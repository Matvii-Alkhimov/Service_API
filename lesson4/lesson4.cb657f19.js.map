{"mappings":"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","sources":["src/templates/post.handlebars","src/templates/change-post.handlebars","src/templates/post-comments.handlebars","node_modules/nanoid/index.browser.js","src/lesson4/posts.js"],"sourcesContent":["{{#each this}}\n<div class=\"post\" data-id=\"{{this.id}}\">\n<h2>{{this.title}}</h2>\n<p>{{this.description}}</p>\n<div class=\"post-param-btns\">\n    <button class=\"editPostButton\" data-id=\"{{this.id}}\" data-type=\"btn-edit\">\n    <svg class=\"svg-btn\" data-id=\"{{this.id}}\" data-type=\"btn-edit\">\n        <path data-id=\"{{this.id}}\" data-type=\"btn-edit\" d=\"M27 0c2.761 0 5 2.239 5 5 0 1.126-0.372 2.164-1 3l-2 2-7-7 2-2c0.836-0.628 1.874-1 3-1zM2 23l-2 9 9-2 18.5-18.5-7-7-18.5 18.5zM22.362 11.362l-14 14-1.724-1.724 14-14 1.724 1.724z\"></path>\n    </svg>\n    </button>\n    <button class=\"commentsPostButton\" data-id=\"{{this.id}}\" data-type=\"btn-comment\">Comments</button>\n    <button class=\"deletePostButton\" data-id=\"{{this.id}}\" data-type=\"btn-delete\">\n        <svg class=\"svg-btn\" data-id=\"{{this.id}}\" data-type=\"btn-delete\">\n            <path data-id=\"{{this.id}}\" data-type=\"btn-delete\" d=\"M4 10v20c0 1.1 0.9 2 2 2h18c1.1 0 2-0.9 2-2v-20h-22zM10 28h-2v-14h2v14zM14 28h-2v-14h2v14zM18 28h-2v-14h2v14zM22 28h-2v-14h2v14z\"></path>\n            <path data-id=\"{{this.id}}\" data-type=\"btn-delete\" d=\"M26.5 4h-6.5v-2.5c0-0.825-0.675-1.5-1.5-1.5h-7c-0.825 0-1.5 0.675-1.5 1.5v2.5h-6.5c-0.825 0-1.5 0.675-1.5 1.5v2.5h26v-2.5c0-0.825-0.675-1.5-1.5-1.5zM18 4h-6v-1.975h6v1.975z\"></path>\n        </svg>\n    </button>\n</div>\n</div>\n{{/each}}","{{#each this}}\n        <form id=\"createPostForm\" data-type=\"form-edit\">\n        <input type=\"text\" id=\"titleInput\" placeholder=\"Заголовок\" required value=\"{{title}}\">\n        <textarea id=\"contentInput\" placeholder=\"Зміст\" required>{{description}}</textarea>\n        <button type=\"submit\" data-type=\"btn-edit-fin\">Змінити пост</button>\n    </form>\n{{/each}}","{{#each this}}\n    <div class=\"commentsContainer\">\n        <button data-type=\"close-comments-btn\" class=\"exit-comments-btn\">\n            <svg data-type=\"close-comments-btn\" class=\"exit-btn__svg\" viewBox=\"-100 -100 700 700\">\n                <path data-type=\"close-comments-btn\" d=\"M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z\"></path>\n            </svg>\n        </button>\n        <h2>{{this.commentsTitle}}</h2>\n        <ul class=\"comments-list\">\n            {{#each this.comments}}\n            <li class=\"comment-item\">{{this.comment}}</li>\n            {{/each}}\n        </ul>\n        <form class=\"createCommentForm\" data-id=\"{{this.id}}\">\n            <input type=\"text\" class=\"commentInput\" id=\"comment\" placeholder=\"Новий коментар\" required>\n            <button data-type=\"create-comment-form\" type=\"submit\">\n                <svg class=\"send-comment__svg\" viewBox=\"-4 5 40 20\">\n                    <path class=\"send-comment__path\" d=\"M19.414 27.414l10-10c0.781-0.781 0.781-2.047 0-2.828l-10-10c-0.781-0.781-2.047-0.781-2.828 0s-0.781 2.047 0 2.828l6.586 6.586h-19.172c-1.105 0-2 0.895-2 2s0.895 2 2 2h19.172l-6.586 6.586c-0.39 0.39-0.586 0.902-0.586 1.414s0.195 1.024 0.586 1.414c0.781 0.781 2.047 0.781 2.828 0z\"></path>\n                </svg>\n            </button>\n        </form>\n    </div>\n{{/each}}","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","import postTpl from \"../templates/post.handlebars\";\nimport changePostTpl from \"../templates/change-post.handlebars\";\nimport postCommentsTpl from \"../templates/post-comments.handlebars\";\nimport { nanoid } from 'nanoid';\n\nconst elements = {\n    createPostFormEl: document.querySelector(\"#createPostForm\"),\n    createFormContEl: document.querySelector(\".form-cont\"),\n    postContainerEl: document.querySelector(\"#postsContainer\"),\n\n}\n\nconst BASE_URL = 'http://localhost:3000';\n\nasync function getPosts() {\n    try {\n        const posts = await fetch(`${BASE_URL}/posts`);\n        const parsedPosts = await posts.json();\n        return parsedPosts.reverse()\n    } catch (error) {\n        console.log(error);\n    }\n}\n    // Створення нового поста\nasync function createPost(event) {\n    event.preventDefault();\n\n    try {\n        const dataObj = [{\n            title: event.currentTarget.elements.titleInput.value,\n            description: event.currentTarget.elements.contentInput.value,\n            id: nanoid(),\n            comments: [],\n        }];\n        await makeFetchFunction(dataObj, 'POST', \"\")\n\n        const markup = postTpl(dataObj);\n        elements.createFormContEl.insertAdjacentHTML(\"afterend\", markup);\n        event.target.reset();\n    } catch (error) {\n        console.log(error);\n    }\n}\n    // Оновлення поста\nasync function updatePost(event) {\n    \n    try {\n        const id = event.target.dataset.id;\n        const posts = Array.from(document.querySelectorAll(\".post\")).reverse();\n        const postToUpdate = posts.find((post)=> post.dataset.id === id);\n        const postInfo = await fetch(`${BASE_URL}/posts/${id}`);\n        const parsedPostInfo = await postInfo.json();\n\n        postToUpdate.innerHTML = changePostTpl([parsedPostInfo]);\n\n        const editFormEl = document.querySelector(\"[data-type='form-edit']\");\n        editFormEl.addEventListener(\"submit\", async (event)=>{\n            event.preventDefault();\n            try {\n                const dataObj = [{\n                    title: event.currentTarget.elements.titleInput.value,\n                    description: event.currentTarget.elements.contentInput.value,\n                    id: id,\n                }];\n                const markup = postTpl(dataObj);\n                postToUpdate.insertAdjacentHTML(\"beforebegin\", markup);\n                postToUpdate.remove();\n                await makeFetchFunction(dataObj, 'PATCH', id)\n            } catch (error) {\n                console.log(error);\n            }\n        })\n    } catch (error) {\n        console.log(error);\n    }\n}\n    // Видалення поста\nasync function deletePost(event) {\n\n    const options = {\n        method: 'DELETE',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n    }\n\n    try {\n\n        const id = event.target.dataset.id;\n        const elems = Array.from(document.querySelectorAll(\".post\")).reverse();\n        const elemToDelete = elems.find((elem)=> elem.dataset.id === id);\n        \n        const post = await fetch(`${BASE_URL}/posts/${id}`, options);\n        const parsedPost = await post.json();\n\n        elemToDelete.remove();\n        return parsedPost;\n\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nasync function onCommentsBtnClick(event) {\n    event.preventDefault();\n    const id = event.target.dataset.id;\n    const posts = Array.from(document.querySelectorAll(\".post\")).reverse();\n    const neededPost = posts.find((post)=> post.dataset.id === id);\n    const postInfo = await fetch(`${BASE_URL}/posts/${id}`);\n    const parsedPostInfo = await postInfo.json();\n    const previousForm = document.querySelector(\".commentsContainer\")\n\n    if (previousForm !== null) {\n        const parentElem = previousForm.parentNode;\n        const neededId = parentElem.dataset.id;\n        const infoObj = await fetch(`${BASE_URL}/posts/${neededId}`)\n        const parsedObj = await infoObj.json()\n        parentElem.insertAdjacentHTML(\"beforebegin\", postTpl([parsedObj]));\n        parentElem.remove();\n    }\n\n    parsedPostInfo.comments.length === 0 \n    ? parsedPostInfo.commentsTitle = \"Тут немає коментарів...\" \n    : parsedPostInfo.commentsTitle = \"Коментарі:\";\n\n    neededPost.innerHTML = postCommentsTpl([parsedPostInfo]);\n    const newCommentFormEl = document.querySelector(\".createCommentForm\")\n    newCommentFormEl.addEventListener(\"submit\", createComment)\n}\n    // Додавання коментаря до поста\nasync function createComment(event) {\n    event.preventDefault();\n    try {\n\n        const id = event.target.dataset.id;\n        const postInfo = await fetch(`${BASE_URL}/posts/${id}`);\n        const parsedPostInfo = await postInfo.json();\n        const comments = parsedPostInfo.comments;\n        const commentInput = document.querySelector(\".createCommentForm > input\")\n        const newComment = {\n            comment: commentInput.value\n        };\n        const dataObj = [{\n            id: id,\n            comments: [...comments, newComment],\n            commentsTitle: \"Коментарі:\"\n        }]\n        await makeFetchFunction(dataObj, \"PATCH\", id);\n        \n        const posts = Array.from(document.querySelectorAll(\".post\")).reverse();\n        const neededPost = posts.find((post)=> post.dataset.id === id);\n        neededPost.innerHTML = postCommentsTpl(dataObj);\n\n        const newCommentFormEl = document.querySelector(\".createCommentForm\")\n        newCommentFormEl.addEventListener(\"submit\", createComment)\n    } \n    catch (error) {\n        console.log(error);\n    }\n}\n\nasync function closeCommentsCont(event) {\n    try {\n        const commentsContEl = document.querySelector(\".commentsContainer\");\n        const postToChange = commentsContEl.parentNode;\n        const postId = postToChange.dataset.id;\n\n        const postInfo = await fetch(`${BASE_URL}/posts/${postId}`);\n        const parsedPostInfo = await postInfo.json();\n\n        // postToChange.innerHTML = ;\n        postToChange.insertAdjacentHTML(\"afterend\", postTpl([parsedPostInfo]));\n        postToChange.remove()\n    } catch(error) {\n        console.log(error);\n    }\n}\n\nfunction renderPosts(posts) {\n    const markup = postTpl(posts);\n    elements.postContainerEl.insertAdjacentHTML(\"beforeend\", markup);\n}\n\nelements.createPostFormEl.addEventListener('submit', createPost);\ndocument.addEventListener(\"click\", onWindowClick);\n\nfunction onWindowClick(event) {\n    console.log(event.target.nodeName)\n    if (event.target.dataset.type === \"btn-edit\") {\n        updatePost(event);\n    } else if (event.target.dataset.type === \"btn-delete\") {\n        deletePost(event);\n    } else if (event.target.dataset.type === \"btn-comment\") {\n        onCommentsBtnClick(event);\n    } else if (event.target.dataset.type === \"close-comments-btn\") {\n        closeCommentsCont(event);\n    }\n}\nasync function startApp() {\n    const posts = await getPosts();\n    renderPosts(posts);\n}\nstartApp();\n\nasync function makeFetchFunction(dataObj, crudFn, id) {\n    const options = {\n        method: crudFn,\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(dataObj[0])\n    }\n    \n    const updatedPost = await fetch(`${BASE_URL}/posts/${id}`, options);\n    const parsedPost = await updatedPost.json();\n    return parsedPost\n}"],"names":["$161f0c8df1af62dd$export$2e2bcd8739ae039","$parcel$interopDefault","parcelRequire","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","compiler","main","stack1","nullContext","name","hash","fn","program","inverse","noop","loc","start","line","column","end","useData","$3f01b4b4c3814172$export$2e2bcd8739ae039","helper","hooks","helperMissing","alias3","alias4","$2f188c36e7bd3eb9$export$2e2bcd8739ae039","$cf399e049a9c4d34$export$ac4959f4f1338dfc","size","crypto","getRandomValues","Uint8Array","reduce","id","byte","toString","toUpperCase","$30ba5172193715bd$var$elements","createPostFormEl","document","querySelector","createFormContEl","postContainerEl","async","$30ba5172193715bd$var$createComment","event","preventDefault","target","dataset","postInfo","fetch","comments","json","newComment","comment","value","dataObj","commentsTitle","$30ba5172193715bd$var$makeFetchFunction","posts","Array","from","querySelectorAll","reverse","find","post","innerHTML","addEventListener","error","console","log","crudFn","options","method","headers","body","JSON","stringify","updatedPost","title","currentTarget","elements","titleInput","description","contentInput","markup","insertAdjacentHTML","reset","nodeName","type","event1","postToUpdate","parsedPostInfo","remove","$30ba5172193715bd$var$updatePost","elemToDelete","elem","parsedPost","$30ba5172193715bd$var$deletePost","neededPost","previousForm","parentElem","parentNode","neededId","infoObj","parsedObj","length","$30ba5172193715bd$var$onCommentsBtnClick","postToChange","postId","$30ba5172193715bd$var$closeCommentsCont","$30ba5172193715bd$var$renderPosts","$30ba5172193715bd$var$getPosts","$30ba5172193715bd$var$startApp"],"version":3,"file":"lesson4.cb657f19.js.map"}